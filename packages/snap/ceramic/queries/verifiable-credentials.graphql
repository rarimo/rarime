fragment VerifiableCredentialFragment on VerifiableCredentialConnection {
  edges {
    node {
      id
      data
      queryHash
      claimId
    }
  }
}

mutation createVC($input: CreateVerifiableCredentialInput!) {
  createVerifiableCredential(input: $input) {
    clientMutationId
    document {
      id
      data
      queryHash
      claimId
    }
  }
}

query GetAllVerifiableCredentials($last: Int) {
  verifiableCredentialIndex (last: $last) {
    ...VerifiableCredentialFragment
  }
}

query GetVerifiableCredentialsByQueryHash($last: Int!, $queryHash: String!) {
  verifiableCredentialIndex (
    last: $last
    filters: {where: {queryHash: {equalTo: $queryHash}}}
  ) {
    ...VerifiableCredentialFragment
  }
}

query GetVerifiableCredentialsByClaimId($last: Int!, $claimId: String!) {
  verifiableCredentialIndex (
    last: $last
    filters: {where: {claimId: {equalTo: $claimId}}}
  ) {
    ...VerifiableCredentialFragment
  }
}
